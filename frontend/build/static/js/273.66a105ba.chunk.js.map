{"version":3,"file":"static/js/273.66a105ba.chunk.js","mappings":"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","sources":["components/EditWorkout.js","hooks/useEditWorkout.js"],"sourcesContent":["import React from 'react';\nimport useEditWorkout from '../hooks/useEditWorkout';\n\n\nexport default function EditWorkout(props){\n  const {editWorkout, error} = useEditWorkout();\n  const title = React.useRef();\n  const muscle_group = React.useRef();\n  const reps = React.useRef();\n  const load = React.useRef();\n\n const closeEditForm = () => props.showEdit();\n const handleUpdate = async (e) => {  \n   const payload = {};\n   if (title.current.value && title.current.value.trim().toLowerCase()) {\n     payload.title = title.current.value.trim().toLowerCase();\n   }  \n   if(muscle_group.current.value){\n    payload.muscle_group = muscle_group.current.value;\n   }\n   if(reps.current.value){\n    payload.reps = reps.current.value;\n   }\n   if(load.current.value){\n    payload.load = load.current.value;\n   }\n   e.preventDefault();\n   await editWorkout(props.id, payload, closeEditForm); \n }\n    return (\n      <div className=\"form--container--edit--workout--form\">\n        <form\n          className=\"edit--form\"\n          aria-label={`edit ${props.title} ${\n            props.updatedAt\n              ? `updated ${props.updatedAt}`\n              : `created ${props.createdAt}`\n          }`}\n        >\n          <button\n            aria-label=\"close form\"\n            className=\"close material-symbols-outlined\"\n            onClick={() => props.showEdit()}\n          >\n            close\n          </button>\n          <h4>Edit workout</h4>\n          <label>exercise title:</label>\n          <input\n            type=\"text\"\n            name=\"title\"\n            id=\"title\"\n            aria-label=\"workout title\"\n            defaultValue={props.title}\n            ref={title}\n          />\n          <label htmlFor=\"muscle_group\">muscle group:</label>\n          <select ref={muscle_group} aria-label=\"muscle group\" name=\"muscle_group\" id=\"muscle_group\">\n              <option value=\"\">{props.muscle_group}</option>\n              <option value=\"chest\">chest</option>\n              <option value=\"shoulder\">shoulder</option>\n              <option value=\"biceps\">biceps</option>\n              <option value=\"triceps\">triceps</option>\n              <option value=\"leg\">leg</option>\n              <option value=\"back\">back</option>\n              <option value=\"glute\">glute</option>\n              <option value=\"ab\">ab</option>\n              <option value=\"calf\">calf</option>\n              <option value=\"forearm and grip\">forearm and grip</option>\n            </select>\n          <label>number of reps:</label>\n          <input\n            type=\"number\"\n            name=\"reps\"\n            id=\"reps\"\n            aria-label=\"number of reps\"\n            defaultValue={props.reps}\n            ref={reps}\n          />\n          <label>load (kg):</label>\n          <input\n            type=\"number\"\n            name=\"load\"\n            id=\"load\"\n            aria-label=\"load in kg\"\n            defaultValue={props.load}\n            ref={load}\n          />\n          <button\n            className=\"edit--form--btn\"\n            onClick={(e) => handleUpdate(e)}\n            aria-label=\"submit edited workout button\"\n          >\n            Save changes\n          </button>\n          {error && (\n            <div role=\"alert\" className=\"error\">\n              {error}\n            </div>\n          )}\n        </form>\n      </div>\n    );\n}","import React from 'react'\nimport { useWorkoutContext } from \"../hooks/useWorkoutContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\nexport default function useEditWorkout() {\n  const { dispatch } = useWorkoutContext();\n  const { user } = useAuthContext();\n  const [error, setError] = React.useState(null);\n  \n  const editWorkout = async (id, payload, closeEdit) => {\n     if (!user) {\n       setError(\"You must be logged in\");\n       return;\n     }\n   const response = await fetch(\n     `${process.env.REACT_APP_API}/api/workouts/${id}`,\n     {\n       method: \"PATCH\",\n       body: JSON.stringify(payload),\n       headers: {\n         \"Content-Type\": \"application/json\",\n         Authorization: `Bearer ${user.token}`,\n       },\n     }\n   );\n   const json = await response.json(); \n       if (!response.ok) {\n         setError(\"Please fill out the empty fields\");\n         return\n       }\n       if (response.ok) {\n         setError(null)\n         closeEdit()\n         dispatch({ type: \"UPDATE_ONE\", payload: json });\n       }\n  }\n\n  return {editWorkout, error}\n}\n"],"names":["EditWorkout","props","dispatch","useWorkoutContext","user","useAuthContext","React","error","setError","editWorkout","id","payload","closeEdit","fetch","process","method","body","JSON","stringify","headers","Authorization","token","response","json","ok","type","useEditWorkout","title","muscle_group","reps","load","closeEditForm","showEdit","handleUpdate","e","current","value","trim","toLowerCase","preventDefault","className","updatedAt","createdAt","onClick","name","defaultValue","ref","htmlFor","role"],"sourceRoot":""}