{"version":3,"file":"static/js/122.29fe1416.chunk.js","mappings":"kMAEaA,EAAoB,WAC/B,MAA8BC,EAAAA,SAAe,MAAK,eAA3CC,EAAO,KAAEC,EAAU,KAC1B,EAA0BF,EAAAA,SAAe,MAAK,eAAvCG,EAAK,KAAEC,EAAQ,KAEhBC,EAAc,yCAAG,WAAOC,GAAK,8FACXC,MAAM,GAAD,OACvBC,wBAAyB,sBAAcF,IAC1C,KAAD,EAFa,OAARG,EAAQ,gBAGKA,EAASC,OAAO,KAAD,EAA5BA,EAAI,OACND,EAASE,GACXT,EAAWQ,EAAKT,SAEhBG,EAASM,EAAKP,OACf,2CACD,gBAVmB,sCAYpB,MAAO,CAAEE,eAAAA,EAAgBF,MAAAA,EAAOF,QAAAA,EAClC,E,mBCfe,SAASW,IACtB,MAA0BZ,EAAAA,SAAe,MAAK,eAAvCM,EAAK,KAAEO,EAAQ,KACtB,EAA2Cd,IAAnCM,EAAc,EAAdA,eAAgBF,EAAK,EAALA,MAAOF,EAAO,EAAPA,QACvBa,GAAWC,EAAAA,EAAAA,KAAXD,OACPd,EAAAA,WAAgB,WACdc,IACA,IAAME,EAAQC,OAAOC,SAASC,KAAKC,QAAQ,KAAO,EAClDP,EAASI,OAAOC,SAASC,KAAKE,MAAML,GACtC,GAAG,IAEH,IAAMM,EAAStB,EAAAA,aAAiB,uBAAE,mGACvBK,EAAeC,GAAM,2CAC1B,CAACA,IAQR,OANCN,EAAAA,WAAgB,WACdM,GACDgB,GAED,GAAG,CAAChB,EAAOgB,KAGV,iBAAKC,UAAU,uBAAsB,UAClCtB,IACC,iBAAKuB,KAAK,QAAQD,UAAU,8BAA6B,WACvD,wBAAI,sCACJ,uBAAG,2BAGNpB,IACC,iCACE,iBAAKqB,KAAK,QAAQD,UAAU,QAAO,UAAEpB,EAAM,QAC3C,iBAAKoB,UAAU,qBAAoB,WACjC,uBAAG,qHAEJ,uBAAG,oCAMd,C","sources":["hooks/useConfirmAccount.js","pages/ConfirmedAccount.js"],"sourcesContent":["import React from 'react'\n\nexport const useConfirmAccount = () => {\n  const [success, setSuccess] = React.useState(null);\n  const [error, setError] = React.useState(null);\n\n  const confirmAccount = async (token) => {\n   const response = await fetch(\n     `${process.env.REACT_APP_API}/api/users/${token}`\n   );\n   const json = await response.json();\n   if (response.ok) {\n     setSuccess(json.success);\n   } else {\n     setError(json.error);\n   }\n  }\n\n  return { confirmAccount, error, success }\n}\n","import React from 'react'\nimport { useConfirmAccount } from '../hooks/useConfirmAccount';\nimport { useLogout } from '../hooks/useLogout';\n\nexport default function ConfirmedAccount() {\n  const [token, setToken] = React.useState(null);\n  const { confirmAccount, error, success } = useConfirmAccount();\n  const { logout } = useLogout();\n   React.useEffect(() => {\n     logout();\n     const start = window.location.href.indexOf(\"=\") + 1;\n     setToken(window.location.href.slice(start))  \n   }, []);\n\n   const verify = React.useCallback( async () => {\n        await confirmAccount(token)\n      }, [token])\n\n   React.useEffect(()=>{\n  if(token){\n    verify()\n    }\n   }, [token, verify])\n    \n  return (\n    <div className=\"confirmed--container\">\n      {success && (\n        <div role=\"alert\" className=\"confirmed--account--success\">\n          <h2>Your account has been confirmed.</h2>\n          <p>You may log in now.</p>\n        </div>\n      )}\n      {error && (\n        <>\n          <div role=\"alert\" className=\"error\">{error} </div>\n          <div className=\"already--confirmed\">\n            <p>In fact, you might be seeing this because the page was refreshed\n            after your account has already been confirmed!</p>\n           <p> Please try logging in.</p>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":["useConfirmAccount","React","success","setSuccess","error","setError","confirmAccount","token","fetch","process","response","json","ok","ConfirmedAccount","setToken","logout","useLogout","start","window","location","href","indexOf","slice","verify","className","role"],"sourceRoot":""}