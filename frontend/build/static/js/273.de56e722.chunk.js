"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[273],{6273:function(e,t,r){r.r(t),r.d(t,{default:function(){return d}});var n=r(4165),a=r(3433),o=r(5861),u=r(9439),l=r(2791),i=r(4961),c=r(6849);var s=r(184);function d(e){var t=function(){var e=(0,i.m)().dispatch,t=(0,c.E)().user,r=l.useState(null),a=(0,u.Z)(r,2),s=a[0],d=a[1],f=function(){var r=(0,o.Z)((0,n.Z)().mark((function r(a,o,u){var l,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=3;break}return d("You must be logged in"),r.abrupt("return");case 3:return r.next=5,fetch("".concat("http://localhost:6060","/api/workouts/").concat(a),{method:"PATCH",body:JSON.stringify(o),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}});case 5:return l=r.sent,r.next=8,l.json();case 8:if(i=r.sent,l.ok){r.next=12;break}return d("Please fill out the empty fields"),r.abrupt("return");case 12:l.ok&&(d(null),u(),e({type:"UPDATE_ONE",payload:i}));case 13:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}();return{editWorkout:f,error:s}}(),r=t.editWorkout,d=t.error,f=l.useRef(),p=l.useRef(),m=l.useRef(),h=l.useState([]),b=(0,u.Z)(h,2),k=b[0],x=b[1],v=function(){return e.showEdit()},j=function(){var t=(0,o.Z)((0,n.Z)().mark((function t(o){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.preventDefault(),f||x((function(e){return["title"].concat((0,a.Z)(e))})),p||x((function(e){return["reps"].concat((0,a.Z)(e))})),null===m&&x((function(e){return["load"].concat((0,a.Z)(e))})),t.next=6,r(e.id,{title:f.current.value.trim().toLowerCase(),reps:p.current.value,load:m.current.value},v);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,s.jsx)("div",{className:"form--container--edit--workout--form",children:(0,s.jsxs)("form",{className:"edit--form","aria-label":"edit ".concat(e.title," ").concat(e.updatedAt?"updated ".concat(e.updatedAt):"created ".concat(e.createdAt)),children:[(0,s.jsx)("button",{"aria-label":"close form",className:"close material-symbols-outlined",onClick:function(){return e.showEdit()},children:"close"}),(0,s.jsx)("h4",{children:"Edit workout"}),(0,s.jsx)("label",{children:"exercise title:"}),(0,s.jsx)("input",{type:"text",name:"title",id:"title","aria-label":"workout title",defaultValue:e.title,ref:f,className:k.includes("title")?"error":""}),(0,s.jsx)("label",{children:"number of reps:"}),(0,s.jsx)("input",{type:"number",name:"reps",id:"reps","aria-label":"number of reps",defaultValue:e.reps,ref:p,className:k.includes("reps")?"error":""}),(0,s.jsx)("label",{children:"load (kg):"}),(0,s.jsx)("input",{type:"number",name:"load",id:"load","aria-label":"load in kg",defaultValue:e.load,ref:m,className:k.includes("load")?"error":""}),(0,s.jsx)("button",{className:"edit--form--btn",onClick:function(e){return j(e)},"aria-label":"submit edited workout button",children:"Save changes"}),d&&(0,s.jsx)("div",{role:"alert",className:"error",children:d})]})})}}}]);
//# sourceMappingURL=273.de56e722.chunk.js.map