{"version":3,"file":"static/js/737.11ed8ee2.chunk.js","mappings":"2MAuEA,EApEe,WACX,IAAMA,EAAQC,EAAAA,SACRC,EAAWD,EAAAA,SACjB,ECJqB,WACrB,MAA0BA,EAAAA,SAAe,MAAK,eAAvCE,EAAK,KAAEC,EAAQ,KACtB,EAAkCH,EAAAA,SAAe,MAAK,eAA/CI,EAAS,KAAEC,EAAY,KAC9B,EAAoDL,EAAAA,SAAe,MAAK,eAAjEM,EAAkB,KAAEC,EAAqB,KAE1CC,EAAM,yCAAG,WAAOC,GAAW,8EAEd,OADfJ,GAAa,GACbF,EAAS,MAAM,SACQO,MAAM,GAAD,OACvBC,wBAAyB,qBAC5B,CACEC,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUP,KAEvB,KAAD,EAPa,OAARQ,EAAQ,gBAQKA,EAASC,OAAO,KAAD,EAA5BA,EAAI,OAELD,EAASE,KACVd,GAAa,GACbF,EAASe,EAAKhB,OACdK,GAAsB,IAEtBU,EAASE,KACTd,GAAa,GACbF,EAAS,MACTI,GAAsB,IACzB,4CACJ,gBAvBW,sCAyBb,MAAO,CAAEC,OAAAA,EAAQJ,UAAAA,EAAWF,MAAAA,EAAOI,mBAAAA,EACtC,CD3B2Dc,GAAhDZ,EAAM,EAANA,OAAQJ,EAAS,EAATA,UAAWF,EAAK,EAALA,MAAOI,EAAkB,EAAlBA,mBAE3Be,EAAY,yCAAG,WAAOC,GAAC,4EAE2D,OADpFA,EAAEC,iBACId,EAAc,CAAEV,MAAOA,EAAMyB,QAAQC,MAAOxB,SAAUA,EAASuB,QAAQC,OAAQ,EAAD,OAC9EjB,EAAOC,GAAa,KAAD,sCAC5B,gBAJiB,sCAMlB,OACE,iBAAKiB,UAAU,0BAAyB,WACtC,yBACE,oBAEF,kBACE,aAAW,oBACXA,UAAU,SACVC,SAAUN,EAAa,WAEvB,wBAAI,uBACJ,2BAAO,oBACP,kBACEO,KAAK,OACLC,GAAG,QACHC,KAAK,QACLC,YAAY,gBACZ,aAAW,gBACXC,IAAKjC,KAEP,2BAAO,eACP,kBACE6B,KAAK,WACLC,GAAG,WACHC,KAAK,WACLC,YAAY,WACZ,aAAW,WACXC,IAAK/B,KAEP,mBAAQyB,UAAU,qBAAqBO,SAAU7B,EAAU,SAAC,YAG3DA,IACC,gBAAKsB,UAAU,oBAAmB,UAChC,iBAAKA,UAAU,eAAc,WAC3B,oBACA,oBACA,oBACA,wBAILxB,IACC,gBAAKgC,KAAK,QAAQR,UAAU,QAAO,SAChCxB,KAGHA,GAASI,IACT,gBAAK4B,KAAK,QAAQR,UAAU,UAAS,SAAC,4EAQlD,C","sources":["pages/Signup.js","hooks/useSignup.js"],"sourcesContent":["import React from 'react';\nimport { useSignup } from '../hooks/useSignup';\n\nconst Signup = () => {\n    const email = React.useRef();\n    const password = React.useRef();\n    const {signup, isLoading, error, verificationNeeded} = useSignup();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const credentials = { email: email.current.value, password: password.current.value };\n        await signup(credentials);\n    }\n\n    return (\n      <div className=\"form--container--signup\">\n        <h1>\n          <p></p>\n        </h1>\n        <form\n          aria-label=\"create an account\"\n          className=\"signup\"\n          onSubmit={handleSubmit}\n        >\n          <h4>Create an account</h4>\n          <label>email address:</label>\n          <input\n            type=\"text\"\n            id=\"email\"\n            name=\"email\"\n            placeholder=\"email address\"\n            aria-label=\"email address\"\n            ref={email}\n          />\n          <label>password:</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            placeholder=\"password\"\n            aria-label=\"password\"\n            ref={password}\n          />\n          <button className=\"sign-up--form--btn\" disabled={isLoading}>\n            Sign up\n          </button>\n          {isLoading && (\n            <div className=\"loader--container\">\n              <div className=\"lds-ellipsis\">\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n              </div>\n            </div>\n          )}\n          {error && (\n            <div role=\"alert\" className=\"error\">\n              {error}\n            </div>\n          )}\n          {!error && verificationNeeded && (\n            <div role=\"alert\" className=\"success\">\n              Account created and pending confirmation. Please check your inbox.\n            </div>\n          )}\n        </form>\n      </div>\n    );\n\n}\nexport default Signup;","import React from 'react';\n\nexport const useSignup = () => {\n    const [error, setError] = React.useState(null);\n    const [isLoading, setIsLoading] = React.useState(null); \n    const [verificationNeeded, setVerificationNeeded] = React.useState(null);\n\n    const signup = async (credentials) => {\n        setIsLoading(true);\n        setError(null);\n        const response = await fetch(\n          `${process.env.REACT_APP_API}/api/users/signup`,\n          {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify(credentials),\n          }\n        );\n        const json = await response.json();\n\n        if (!response.ok){\n            setIsLoading(false);\n            setError(json.error);\n            setVerificationNeeded(false);\n        }\n        if (response.ok) {\n            setIsLoading(false)\n            setError(null);\n            setVerificationNeeded(true);\n        }\n    }\n\n   return { signup, isLoading, error, verificationNeeded } \n}\n\n\n\n\n\n"],"names":["email","React","password","error","setError","isLoading","setIsLoading","verificationNeeded","setVerificationNeeded","signup","credentials","fetch","process","method","headers","body","JSON","stringify","response","json","ok","useSignup","handleSubmit","e","preventDefault","current","value","className","onSubmit","type","id","name","placeholder","ref","disabled","role"],"sourceRoot":""}