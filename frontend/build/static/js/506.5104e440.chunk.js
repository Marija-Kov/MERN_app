"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[506],{8506:function(e,r,s){s.r(r),s.d(r,{default:function(){return u}});var n=s(4165),t=s(5861),a=s(2791),o=s(1087),c=s(9439);var i=s(184);function u(){var e=function(){var e=a.useState(null),r=(0,c.Z)(e,2),s=r[0],o=r[1],i=a.useState(null),u=(0,c.Z)(i,2),l=u[0],d=u[1],p=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(r,s,t){var a,c;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("http://localhost:6060","/api/reset-password/").concat(r),{method:"PATCH",body:JSON.stringify({password:s,confirmPassword:t}),headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,a.ok?a.ok&&(d(c.success),o(null)):o(c.error);case 7:case"end":return e.stop()}}),e)})));return function(r,s,n){return e.apply(this,arguments)}}();return{resetPassword:p,error:s,success:l}}(),r=e.resetPassword,s=e.error,u=e.success,l=a.useRef(),d=a.useRef(),p=function(){var e=(0,t.Z)((0,n.Z)().mark((function e(s){var t,a;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),t=window.location.href.indexOf("=")+1,a=window.location.href.slice(t),e.next=5,r(a,l.current.value,d.current.value);case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,i.jsx)("div",{className:"form--container--reset--password",children:(0,i.jsxs)("form",{className:"reset--password",onSubmit:p,children:[(0,i.jsx)("label",{children:"New password:"}),(0,i.jsx)("input",{type:"password",id:"new-password","aria-label":"new password",ref:l}),(0,i.jsx)("label",{children:"Confirm new password:"}),(0,i.jsx)("input",{type:"password",id:"confirm-new-password","aria-label":"confirm new password",ref:d}),!u&&(0,i.jsx)("button",{children:"Save"}),s&&(0,i.jsxs)("div",{role:"alert",className:"error",children:[s,"."]}),s&&s.match(/invalid/i)&&(0,i.jsxs)("p",{children:[(0,i.jsx)(o.rU,{to:"/login",children:"Go back"})," to resend the request."]}),u&&(0,i.jsx)("div",{role:"alert",className:"success",children:u}),u&&(0,i.jsx)("p",{children:(0,i.jsx)(o.rU,{to:"/login",children:"Log in"})})]})})}}}]);
//# sourceMappingURL=506.5104e440.chunk.js.map