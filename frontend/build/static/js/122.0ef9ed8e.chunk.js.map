{"version":3,"file":"static/js/122.0ef9ed8e.chunk.js","mappings":"kMAEaA,EAAoB,WAC/B,MAA8BC,EAAAA,SAAe,MAAK,eAA3CC,EAAO,KAAEC,EAAU,KAC1B,EAA0BF,EAAAA,SAAe,MAAK,eAAvCG,EAAK,KAAEC,EAAQ,KAEhBC,EAAc,yCAAG,WAAOC,GAAK,8FACXC,MAAM,aAAD,OAAcD,IAAS,KAAD,EAApC,OAARE,EAAQ,gBACKA,EAASC,OAAO,KAAD,EAA5BA,EAAI,OACND,EAASE,GACXR,EAAWO,EAAKR,SAEhBG,EAASK,EAAKN,OACf,2CACD,gBARmB,sCAUpB,MAAO,CAAEE,eAAAA,EAAgBF,MAAAA,EAAOF,QAAAA,EAClC,E,SCde,SAASU,IACtB,MAA0BX,EAAAA,SAAe,MAAK,eAAvCM,EAAK,KAAEM,EAAQ,KACtB,EAA2Cb,IAAnCM,EAAc,EAAdA,eAAgBF,EAAK,EAALA,MAAOF,EAAO,EAAPA,QAC9BD,EAAAA,WAAgB,WACd,IAAMa,EAAQC,OAAOC,SAASC,KAAKC,QAAQ,KAAO,EAClDL,EAASE,OAAOC,SAASC,KAAKE,MAAML,GACtC,GAAG,IAEH,IAAMM,EAASnB,EAAAA,aAAiB,uBAAE,mGACvBK,EAAeC,GAAM,2CAC1B,CAACA,IAQR,OANCN,EAAAA,WAAgB,WACdM,GACDa,GAED,GAAG,CAACb,EAAOa,KAGV,iBAAKC,UAAU,uBAAsB,UAClCnB,IACC,iBAAKoB,KAAK,QAAQD,UAAU,8BAA6B,WACvD,wBAAI,sCACJ,uBAAG,2BAGNjB,IACC,iCACE,iBAAKkB,KAAK,QAAQD,UAAU,QAAO,UAAEjB,EAAM,QAC3C,iBAAKiB,UAAU,qBAAoB,WACjC,uBAAG,qHAEJ,uBAAG,oCAMd,C","sources":["hooks/useConfirmAccount.js","pages/ConfirmedAccount.js"],"sourcesContent":["import React from 'react'\n\nexport const useConfirmAccount = () => {\n  const [success, setSuccess] = React.useState(null);\n  const [error, setError] = React.useState(null);\n\n  const confirmAccount = async (token) => {\n   const response = await fetch(`api/users/${token}`);\n   const json = await response.json();\n   if (response.ok) {\n     setSuccess(json.success);\n   } else {\n     setError(json.error);\n   }\n  }\n\n  return { confirmAccount, error, success }\n}\n","import React from 'react'\nimport { useConfirmAccount } from '../hooks/useConfirmAccount';\n\nexport default function ConfirmedAccount() {\n  const [token, setToken] = React.useState(null);\n  const { confirmAccount, error, success } = useConfirmAccount();\n   React.useEffect(() => {\n     const start = window.location.href.indexOf(\"=\") + 1;\n     setToken(window.location.href.slice(start))  \n   }, []);\n\n   const verify = React.useCallback( async () => {\n        await confirmAccount(token)\n      }, [token])\n\n   React.useEffect(()=>{\n  if(token){\n    verify()\n    }\n   }, [token, verify])\n    \n  return (\n    <div className=\"confirmed--container\">\n      {success && (\n        <div role=\"alert\" className=\"confirmed--account--success\">\n          <h2>Your account has been confirmed.</h2>\n          <p>You may log in now.</p>\n        </div>\n      )}\n      {error && (\n        <>\n          <div role=\"alert\" className=\"error\">{error} </div>\n          <div className=\"already--confirmed\">\n            <p>In fact, you might be seeing this because the page was refreshed\n            after your account has already been confirmed!</p>\n           <p> Please try logging in.</p>\n          </div>\n        </>\n      )}\n    </div>\n  );\n}\n"],"names":["useConfirmAccount","React","success","setSuccess","error","setError","confirmAccount","token","fetch","response","json","ok","ConfirmedAccount","setToken","start","window","location","href","indexOf","slice","verify","className","role"],"sourceRoot":""}