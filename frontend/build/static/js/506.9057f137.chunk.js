"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[506],{8506:function(e,r,n){n.r(r),n.d(r,{default:function(){return u}});var s=n(4165),t=n(5861),a=n(9439),o=n(2791),c=n(1087);var i=n(184);function u(){var e=function(){var e=o.useState(null),r=(0,a.Z)(e,2),n=r[0],c=r[1],i=o.useState(null),u=(0,a.Z)(i,2),l=u[0],d=u[1],f=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(r,n,t){var a,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("api/reset-password/".concat(r),{method:"PATCH",body:JSON.stringify({password:n,confirmPassword:t}),headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:o=e.sent,a.ok?a.ok&&(d(o.success),c(null)):c(o.error);case 7:case"end":return e.stop()}}),e)})));return function(r,n,s){return e.apply(this,arguments)}}();return{resetPassword:f,error:n,success:l}}(),r=e.resetPassword,n=e.error,u=e.success,l=o.useState(""),d=(0,a.Z)(l,2),f=d[0],p=d[1],w=o.useState(""),h=(0,a.Z)(w,2),v=h[0],x=h[1],j=o.useState(null),m=(0,a.Z)(j,2),Z=m[0],b=m[1];o.useEffect((function(){var e=window.location.href.indexOf("=")+1;b(window.location.href.slice(e))}),[]);var k=function(){var e=(0,t.Z)((0,s.Z)().mark((function e(n){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,r(Z,f,v);case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return(0,i.jsx)("div",{className:"form--container",children:(0,i.jsxs)("form",{className:"reset--password",onSubmit:k,children:[(0,i.jsx)("label",{children:"New password:"}),(0,i.jsx)("input",{type:"password",id:"new-password","aria-label":"new password",value:f,onChange:function(e){return p(e.target.value)}}),(0,i.jsx)("label",{children:"Confirm new password:"}),(0,i.jsx)("input",{type:"password",id:"confirm-new-password","aria-label":"confirm new password",value:v,onChange:function(e){return x(e.target.value)}}),!u&&(0,i.jsx)("button",{children:"Save"}),n&&(0,i.jsxs)("div",{role:"alert",className:"error",children:[n,".",n.match(/expired/i)&&(0,i.jsxs)("p",{children:[(0,i.jsx)(c.rU,{to:"/login",children:"Go back"})," to resend the request."]})]}),u&&(0,i.jsx)("div",{role:"alert",className:"success",children:u}),u&&(0,i.jsx)("p",{children:(0,i.jsx)(c.rU,{to:"/login",children:"Log in"})})]})})}}}]);
//# sourceMappingURL=506.9057f137.chunk.js.map