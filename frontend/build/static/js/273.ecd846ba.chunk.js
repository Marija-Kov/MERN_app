"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[273],{6273:function(e,t,r){r.r(t),r.d(t,{default:function(){return s}});var n=r(4165),a=r(5861),u=r(2791),o=r(9439),l=r(4961),i=r(6849);var c=r(184);function s(e){var t=function(){var e=(0,l.m)().dispatch,t=(0,i.E)().user,r=u.useState(null),c=(0,o.Z)(r,2),s=c[0],d=c[1],f=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a,u,o){var l,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t){r.next=3;break}return d("You must be logged in"),r.abrupt("return");case 3:return r.next=5,fetch("".concat("http://localhost:6060","/api/workouts/").concat(a),{method:"PATCH",body:JSON.stringify(u),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)}});case 5:return l=r.sent,r.next=8,l.json();case 8:if(i=r.sent,l.ok){r.next=12;break}return d("Please fill out the empty fields"),r.abrupt("return");case 12:l.ok&&(d(null),o(),e({type:"UPDATE_ONE",payload:i}));case 13:case"end":return r.stop()}}),r)})));return function(e,t,n){return r.apply(this,arguments)}}();return{editWorkout:f,error:s}}(),r=t.editWorkout,s=t.error,d=u.useRef(),f=u.useRef(),p=u.useRef(),m=function(){return e.showEdit()},h=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(a){var u;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={},d.current.value&&d.current.value.trim().toLowerCase()&&(u.title=d.current.value.trim().toLowerCase()),f.current.value&&(u.reps=f.current.value),p.current.value&&(u.load=f.current.value),a.preventDefault(),t.next=7,r(e.id,u,m);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,c.jsx)("div",{className:"form--container--edit--workout--form",children:(0,c.jsxs)("form",{className:"edit--form","aria-label":"edit ".concat(e.title," ").concat(e.updatedAt?"updated ".concat(e.updatedAt):"created ".concat(e.createdAt)),children:[(0,c.jsx)("button",{"aria-label":"close form",className:"close material-symbols-outlined",onClick:function(){return e.showEdit()},children:"close"}),(0,c.jsx)("h4",{children:"Edit workout"}),(0,c.jsx)("label",{children:"exercise title:"}),(0,c.jsx)("input",{type:"text",name:"title",id:"title","aria-label":"workout title",defaultValue:e.title,ref:d}),(0,c.jsx)("label",{children:"number of reps:"}),(0,c.jsx)("input",{type:"number",name:"reps",id:"reps","aria-label":"number of reps",defaultValue:e.reps,ref:f}),(0,c.jsx)("label",{children:"load (kg):"}),(0,c.jsx)("input",{type:"number",name:"load",id:"load","aria-label":"load in kg",defaultValue:e.load,ref:p}),(0,c.jsx)("button",{className:"edit--form--btn",onClick:function(e){return h(e)},"aria-label":"submit edited workout button",children:"Save changes"}),s&&(0,c.jsx)("div",{role:"alert",className:"error",children:s})]})})}}}]);
//# sourceMappingURL=273.ecd846ba.chunk.js.map