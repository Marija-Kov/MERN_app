{"version":3,"file":"static/js/314.d2608d6a.chunk.js","mappings":"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","sources":["components/WorkoutDetails.js","hooks/useDeleteWorkout.js","hooks/useCreateWorkout.js","components/WorkoutForm.js","components/Pagination.js","hooks/useSearch.js","components/Search.js","pages/Home.js"],"sourcesContent":["import React from 'react';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport useDeleteWorkout from '../hooks/useDeleteWorkout';\n\nconst EditWorkout = React.lazy(() => import(\"../components/EditWorkout\"));\n\nexport default function WorkoutDetails({id, title, reps, load, createdAt, updatedAt, page, getItems, total, limit, spreadPages}){\n    const [showEditForm, setShowEditForm] = React.useState(false);\n    const {deleteWorkout, error} = useDeleteWorkout();\n\n    const handleDelete = async () => {\n      await deleteWorkout(id)\n      await getItems('', page)\n      spreadPages(total, limit)\n    }\n\n    const showEdit = () => {\n       setShowEditForm(prev => !prev)\n    }\n\n    const date = formatDistanceToNow(new Date(createdAt), { addSuffix: true});\n\n    return (\n      <>\n        <div\n          aria-label={`details of workout ${title} created ${date}`}\n          className=\"workout-details\"\n        >\n          <h4>{title}</h4>\n          <p>\n            <strong>reps:</strong> {reps}\n          </p>\n          <p>\n            <strong>load:</strong> {load}\n          </p>\n          <p aria-label=\"date\" className=\"date\">\n            {date}\n          </p>\n          <button\n            aria-label={`delete workout ${title} created ${date}`}\n            className=\"material-symbols-outlined\"\n            onClick={handleDelete}\n          >\n            delete\n          </button>\n          <button\n            aria-label={`open ${title} edit form created ${date}`}\n            className=\"material-symbols-outlined edit\"\n            onClick={showEdit}\n          >\n            edit\n          </button>\n          {error && (\n            <div role=\"alert\" className=\"error\">\n              {error}\n            </div>\n          )}\n        </div>\n        {showEditForm && (\n        <React.Suspense>\n          <EditWorkout\n            key={id + \"edit\"}\n            id={id}\n            title={title}\n            reps={reps}\n            load={load}\n            createdAt={createdAt}\n            updatedAt={updatedAt}\n            showEdit={() => showEdit()}\n          />\n        </React.Suspense>  \n        )}\n      </>\n    );\n}","import React from \"react\";\nimport { useWorkoutContext } from \"./useWorkoutContext\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport default function useDeleteWorkout() {\n       const [error, setError] = React.useState(null);\n       const { dispatch } = useWorkoutContext();\n       const { user } = useAuthContext();\n\n    const deleteWorkout = async (id) => {\n        if (!user) {\n         setError(\"You must be logged in to do that\");\n         return\n        }\n        const response = await fetch(`/api/workouts/${id}`, {\n          method: \"DELETE\",\n          headers: {\n            Authorization: `Bearer ${user.token}`,\n          },\n        });\n\n        const json = await response.json();\n        \n        if(response.ok){\n          dispatch({ type: \"DELETE_ONE\", payload: json.workout}); \n          setError(null) \n        }\n        if(!response.ok){\n            setError(json.error);\n        }\n    }\n  return { deleteWorkout, error }\n}\n","import React from 'react'\nimport { useWorkoutContext } from \"../hooks/useWorkoutContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\nexport const useCreateWorkout = () => { \n   const { dispatch } = useWorkoutContext();\n   const { user } = useAuthContext();\n   const [error, setError] = React.useState(null);\n\n   const createWorkout = async (workout) => {\n      if (!user) {\n       setError(\"You must be logged in\");\n       return;\n     }\n     const response = await fetch(\"/api/workouts\", {\n       method: \"POST\",\n       body: JSON.stringify(workout),\n       headers: {\n         \"Content-Type\": \"application/json\",\n         Authorization: `Bearer ${user.token}`,\n       },\n     });\n     const json = await response.json();\n\n\n     if (!response.ok) {\n       setError(\"Please fill out the empty fields\");\n       return\n     }\n\n         if (response.ok) {\n           setError(null);\n           dispatch({ type: \"CREATE_WORKOUT\", payload: json });\n         }\n    }\n\n  return { createWorkout, error }\n}\n","import React from 'react';\nimport { useCreateWorkout } from '../hooks/useCreateWorkout';\n\nexport default function WorkoutForm({hideForm, spreadPages, flipPage, total, limit, getItems}){\n  const { createWorkout, error } = useCreateWorkout();\n  const [workout, setWorkout] = React.useState({\n    title: \"\",\n    load: \"\",\n    reps: \"\",\n  });\n  const [emptyFields, setEmptyFields] = React.useState([]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await createWorkout(workout);\n    if (!workout.title) {\n      setEmptyFields((prev) => [\"title\", ...prev]);\n    }\n    if (!workout.reps) {\n      setEmptyFields((prev) => [\"reps\", ...prev]);\n    }\n    if (!workout.load) {\n      setEmptyFields((prev) => [\"load\", ...prev]);\n    }\n\n    if(workout.title && workout.reps && workout.load){\n     hideForm();\n     await getItems(\"\", 0);\n     spreadPages(total, limit);\n     flipPage(1)\n     setEmptyFields([]);\n     setWorkout({ title: \"\", load: \"\", reps: \"\" });\n    }   \n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setWorkout((prev) => {\n      return {\n        ...prev,\n        [name]: value,\n      };\n    });\n  }\n  return (\n    <div className=\"form--container\">\n    <form className=\"workout--form\" aria-label=\"workout form\" onSubmit={handleSubmit}>\n      <button\n        aria-label=\"close form\"\n        className=\"close material-symbols-outlined\"\n        onClick={hideForm}\n      >       \n        close\n      </button>\n      <h4>New workout</h4>\n      <label>exercise title:</label>\n      <input\n        type=\"text\"\n        name=\"title\"\n        id=\"title\"\n        placeholder=\"ex: bench press\"\n        aria-label=\"workout title\"\n        onChange={handleChange}\n        value={workout.title}\n        className={emptyFields.includes(\"title\") ? \"error\" : \"\"}\n      />\n      <label>number of reps:</label>\n      <input\n        type=\"number\"\n        name=\"reps\"\n        id=\"reps\"\n        aria-label=\"number of reps\"\n        onChange={handleChange}\n        value={workout.reps}\n        className={emptyFields.includes(\"reps\") ? \"error\" : \"\"}\n      />\n      <label>load (kg):</label>\n      <input\n        type=\"number\"\n        name=\"load\"\n        id=\"load\"\n        aria-label=\"load in kg\"\n        onChange={handleChange}\n        value={workout.load}\n        className={emptyFields.includes(\"load\") ? \"error\" : \"\"}\n      />\n        <button className=\"workout--form--btn\" aria-label=\"submit workout button\">Add workout</button>\n      {error && (\n        <div role=\"alert\" className=\"error\">\n          {error}\n        </div>\n      )}\n    </form>\n    </div>\n  );\n}\n","import React from 'react'\nimport uuid from \"react-uuid\"\nexport default function Pagination({page, limit, flipPage, total, pageSpread}){\n\n  const btnIsDisabled = () => (page+1) * limit >= total ;\n\n  function pageBtnStyle(page, p){\n     if (page + 1 === p){\n      if(p - 3 > 1 && pageSpread.length - p > 1) return \"num--page current dots-left dots-right\";\n      if(pageSpread.length - p > 1 && p > 2) return \"num--page current dots-right\";\n      if(p - 3 > 1) return \"num--page current dots-left\";\n      return \"num--page current\";\n     }\n    if (page + 1 !== p) {\n      if (p > 3 && p !== pageSpread.length) return \"invisible\";\n      if (p === pageSpread.length && p < pageSpread.length-1) return \"num--page dots-left\";\n      if (p === 3 && pageSpread.length > 4 && page + 1 < 3) return \"num--page dots-right\";\n      if (p <= 3 || p === pageSpread.length) return \"num--page\"; \n    }\n  }\n    return (\n      <div aria-label=\"pages\" className=\"page--btn--container\">\n        <button\n          aria-label=\"previous page\"\n          type=\"button\"\n          className=\"prev--page\"\n          disabled={page <= 0}\n          onClick={() => flipPage(-1)}\n        >\n          <span className=\"material-symbols-outlined\">chevron_left</span>\n        </button>\n        {pageSpread.map((p) => {\n           return (\n             <button\n               aria-label={`go to page ${p}`}\n               key={uuid()}\n               className={pageBtnStyle(page, p)}\n               onClick={() => flipPage(p)}\n             >\n               {p}\n             </button>\n           );  \n        })}\n        <button\n          aria-label=\"next page\"\n          type=\"button\"\n          className=\"next--page\"\n          disabled={btnIsDisabled()}\n          onClick={() => flipPage([1])}\n        >\n          <span className=\"material-symbols-outlined\">chevron_right</span>\n        </button>\n      </div>\n    );\n}\n","import React from 'react'\nimport { useWorkoutContext } from \"../hooks/useWorkoutContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\nexport const useSearch = () => {\n    const [isLoading, setIsLoading] = React.useState(null); \n    const { user } = useAuthContext();\n    const { dispatch } = useWorkoutContext();\n    const [limit, setLimit] = React.useState(null);\n    const [total, setTotal] = React.useState(null);\n    const [error, setError] = React.useState(null);\n    \n    const search = async (query, page) => {\n      setIsLoading(true);\n      if(!user) {\n        setIsLoading(false);\n        setError(\"Not authorized\");\n        return\n      }\n\n      const response = await fetch(`api/workouts/?search=${query}&p=${page}`, {\n        headers: {\n          \"Authorization\": `Bearer ${user.token}`\n        },\n      });\n\n      const json = await response.json();\n\n      if(response.ok){\n        setError(null)\n        setIsLoading(false);\n        setLimit(json.limit);\n        setTotal(json.allUserWorkoutsByQuery.length);\n        dispatch({type: \"SET_WORKOUTS\", payload: json.workoutsChunk})\n      }\n      if(!response.ok){\n        setIsLoading(false);\n        setError(json.error)\n      }\n      \n    }\n    return { search, isLoading, limit, total, error}\n}","import React from 'react'\n\nexport default function Search({handleSearch, query, isLoading, handleSearchChange}) {\n  return (\n    <form aria-label=\"search bar\" className=\"search--bar\" onSubmit={handleSearch}>\n      <input\n        aria-label=\"search input\"\n        type=\"search\"\n        placeholder=\"search workouts...\"\n        value={query}\n        onChange={handleSearchChange}\n      ></input>\n      <button aria-label=\"search button\" disabled={isLoading}>\n        <span className=\"material-symbols-outlined\">search</span>\n      </button>\n    </form>\n  );\n}\n","import React from 'react';\nimport WorkoutDetails from '../components/WorkoutDetails'\nimport WorkoutForm from '../components/WorkoutForm'\nimport { useWorkoutContext } from '../hooks/useWorkoutContext'\nimport { useAuthContext } from \"../hooks/useAuthContext\";\nimport Pagination from '../components/Pagination';\nimport { useSearch } from '../hooks/useSearch';\nimport Search from '../components/Search';\nimport { logOutIfTokenExpired } from '../utils/logOutIfTokenExpired';\n\nexport default function Home() {\n    const [addWorkoutForm, setAddWorkoutForm] = React.useState(false);\n    const { workouts } = useWorkoutContext(); \n    const { user } = useAuthContext();\n    const { search, total, limit, isLoading } = useSearch();\n    const [page, setPage] = React.useState(0);\n    const [pageSpread, setPageSpread] = React.useState([]);\n    const [query, setQuery] = React.useState(\"\");\n\n    React.useEffect(() => {\n      getItems(query, page);\n    }, [query, page]);\n\n    React.useEffect(()=> {\n      spreadPages(total, limit)\n    },[total,limit])\n\n    const getItems = async (q,p) => {\n      await search(q, p);\n    };\n    \n    const spreadPages = (t, l) => {\n      const pagesNum = Math.ceil(t / l);\n      let spread = [];\n      for (let i = 1; i <= pagesNum; ++i) {\n        spread.push(i);\n      }\n      setPageSpread(spread);\n    };\n\n   const hideForm = () => {\n       setAddWorkoutForm(false)\n   }\n\n   const flipPage = (num) => {\n     setPage((prev) => {\n       if (num === -1) return prev + num;\n       if (num[0]) return prev + num[0];\n       return num - 1;\n     });\n   };\n\n   const handleSearch = async (e) => {\n     e.preventDefault();\n     await getItems(query, page);\n   };\n\n   const handleSearchChange = (e) => {\n      setQuery(e.target.value);\n      setPage(0);\n   }\n\n    return (\n      <div className=\"home--container\" onClick={logOutIfTokenExpired}>\n          <div className=\"home\">\n            <Search\n              handleSearchChange={handleSearchChange}\n              handleSearch={handleSearch}\n              query={query}\n              isLoading={isLoading}\n            />\n\n            <div aria-label=\"workouts\" className=\"workouts--container\">\n              {workouts &&\n                workouts.map((workout) => (\n                  <WorkoutDetails\n                    key={workout._id}\n                    id={workout._id}\n                    title={workout.title}\n                    reps={workout.reps}\n                    load={workout.load}\n                    createdAt={workout.createdAt}\n                    updatedAt={workout.updatedAt}\n                    page={page}\n                    getItems={getItems}\n                    spreadPages={spreadPages}\n                    total={total}\n                    limit={limit}\n                  />\n                ))}\n            </div>\n            {!addWorkoutForm && (\n              <button\n                aria-label=\"buff it up\"\n                className=\"add--workout\"\n                onClick={() => setAddWorkoutForm(true)}\n              >\n                + Buff It Up\n              </button>\n            )}\n            <Pagination\n              page={page}\n              pageSpread={pageSpread}\n              total={total}\n              limit={limit}\n              flipPage={flipPage}\n            />\n\n            {addWorkoutForm && (\n              <WorkoutForm\n                hideForm={hideForm}\n                getItems={getItems}\n                spreadPages={spreadPages}\n                flipPage={flipPage}\n                total={total}\n                limit={limit}\n              />\n            )}\n            <div className=\"space\"></div>\n            <div className=\"chart--container\">\n              <h3>Routine Balance</h3>\n              <div className=\"chart\"></div>\n              <p className=\"stats--upper-bod\">\n                <span></span> Upper body - 36%\n              </p>\n              <p className=\"stats--lower-bod\">\n                <span></span> Lower body - 64%\n              </p>\n            </div>\n          </div>\n      </div>\n    );\n};\n"],"names":["EditWorkout","React","WorkoutDetails","id","title","reps","load","createdAt","updatedAt","page","getItems","total","limit","spreadPages","showEditForm","setShowEditForm","error","setError","dispatch","useWorkoutContext","user","useAuthContext","deleteWorkout","fetch","method","headers","Authorization","token","response","json","ok","type","payload","workout","useDeleteWorkout","handleDelete","showEdit","prev","date","formatDistanceToNow","Date","addSuffix","className","onClick","role","useCreateWorkout","createWorkout","body","JSON","stringify","WorkoutForm","hideForm","flipPage","setWorkout","emptyFields","setEmptyFields","handleSubmit","e","preventDefault","handleChange","target","name","value","onSubmit","placeholder","onChange","includes","Pagination","pageSpread","pageBtnStyle","p","length","disabled","map","uuid","useSearch","isLoading","setIsLoading","setLimit","setTotal","search","query","allUserWorkoutsByQuery","workoutsChunk","Search","handleSearch","handleSearchChange","Home","addWorkoutForm","setAddWorkoutForm","workouts","setPage","setPageSpread","setQuery","q","t","l","pagesNum","Math","ceil","spread","i","push","num","logOutIfTokenExpired","_id"],"sourceRoot":""}