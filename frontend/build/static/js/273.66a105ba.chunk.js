"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[273],{6273:function(e,r,t){t.r(r),t.d(r,{default:function(){return s}});var n=t(4165),a=t(5861),l=t(2791),u=t(9439),o=t(4961),i=t(6849);var c=t(184);function s(e){var r=function(){var e=(0,o.m)().dispatch,r=(0,i.E)().user,t=l.useState(null),c=(0,u.Z)(t,2),s=c[0],d=c[1],p=function(){var t=(0,a.Z)((0,n.Z)().mark((function t(a,l,u){var o,i;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=3;break}return d("You must be logged in"),t.abrupt("return");case 3:return t.next=5,fetch("".concat("http://localhost:6060","/api/workouts/").concat(a),{method:"PATCH",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}});case 5:return o=t.sent,t.next=8,o.json();case 8:if(i=t.sent,o.ok){t.next=12;break}return d("Please fill out the empty fields"),t.abrupt("return");case 12:o.ok&&(d(null),u(),e({type:"UPDATE_ONE",payload:i}));case 13:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}();return{editWorkout:p,error:s}}(),t=r.editWorkout,s=r.error,d=l.useRef(),p=l.useRef(),f=l.useRef(),h=l.useRef(),m=function(){return e.showEdit()},b=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(a){var l;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return l={},d.current.value&&d.current.value.trim().toLowerCase()&&(l.title=d.current.value.trim().toLowerCase()),p.current.value&&(l.muscle_group=p.current.value),f.current.value&&(l.reps=f.current.value),h.current.value&&(l.load=h.current.value),a.preventDefault(),r.next=8,t(e.id,l,m);case 8:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return(0,c.jsx)("div",{className:"form--container--edit--workout--form",children:(0,c.jsxs)("form",{className:"edit--form","aria-label":"edit ".concat(e.title," ").concat(e.updatedAt?"updated ".concat(e.updatedAt):"created ".concat(e.createdAt)),children:[(0,c.jsx)("button",{"aria-label":"close form",className:"close material-symbols-outlined",onClick:function(){return e.showEdit()},children:"close"}),(0,c.jsx)("h4",{children:"Edit workout"}),(0,c.jsx)("label",{children:"exercise title:"}),(0,c.jsx)("input",{type:"text",name:"title",id:"title","aria-label":"workout title",defaultValue:e.title,ref:d}),(0,c.jsx)("label",{htmlFor:"muscle_group",children:"muscle group:"}),(0,c.jsxs)("select",{ref:p,"aria-label":"muscle group",name:"muscle_group",id:"muscle_group",children:[(0,c.jsx)("option",{value:"",children:e.muscle_group}),(0,c.jsx)("option",{value:"chest",children:"chest"}),(0,c.jsx)("option",{value:"shoulder",children:"shoulder"}),(0,c.jsx)("option",{value:"biceps",children:"biceps"}),(0,c.jsx)("option",{value:"triceps",children:"triceps"}),(0,c.jsx)("option",{value:"leg",children:"leg"}),(0,c.jsx)("option",{value:"back",children:"back"}),(0,c.jsx)("option",{value:"glute",children:"glute"}),(0,c.jsx)("option",{value:"ab",children:"ab"}),(0,c.jsx)("option",{value:"calf",children:"calf"}),(0,c.jsx)("option",{value:"forearm and grip",children:"forearm and grip"})]}),(0,c.jsx)("label",{children:"number of reps:"}),(0,c.jsx)("input",{type:"number",name:"reps",id:"reps","aria-label":"number of reps",defaultValue:e.reps,ref:f}),(0,c.jsx)("label",{children:"load (kg):"}),(0,c.jsx)("input",{type:"number",name:"load",id:"load","aria-label":"load in kg",defaultValue:e.load,ref:h}),(0,c.jsx)("button",{className:"edit--form--btn",onClick:function(e){return b(e)},"aria-label":"submit edited workout button",children:"Save changes"}),s&&(0,c.jsx)("div",{role:"alert",className:"error",children:s})]})})}}}]);
//# sourceMappingURL=273.66a105ba.chunk.js.map