{"version":3,"file":"static/js/314.59707482.chunk.js","mappings":"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","sources":["components/WorkoutDetails.js","hooks/useDeleteWorkout.js","hooks/useCreateWorkout.js","components/WorkoutForm.js","components/Pagination.js","hooks/useSearch.js","components/Search.js","pages/Home.js"],"sourcesContent":["import React from 'react';\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\nimport useDeleteWorkout from '../hooks/useDeleteWorkout';\n\nconst EditWorkout = React.lazy(() => import(\"../components/EditWorkout\"));\n\nexport default function WorkoutDetails({id, title, reps, load, createdAt, updatedAt, page, getItems, total, limit, spreadPages}){\n    const [showEditForm, setShowEditForm] = React.useState(false);\n    const {deleteWorkout, error} = useDeleteWorkout();\n\n    const handleDelete = async () => {\n      await deleteWorkout(id)\n      await getItems('', page)\n      spreadPages(total, limit)\n    }\n\n    const showEdit = () => {\n       setShowEditForm(prev => !prev)\n    }\n\n    const date = formatDistanceToNow(new Date(createdAt), { addSuffix: true});\n\n    return (\n      <>\n        <div\n          aria-label={`details of workout ${title} created ${date}`}\n          className=\"workout-details\"\n        >\n          <h4>{title}</h4>\n          <p>\n            <strong>reps:</strong> {reps}\n          </p>\n          <p>\n            <strong>load:</strong> {load}\n          </p>\n          <p aria-label=\"date\" className=\"date\">\n            {date}\n          </p>\n          <button\n            aria-label={`delete workout ${title} created ${date}`}\n            className=\"material-symbols-outlined\"\n            onClick={handleDelete}\n          >\n            delete\n          </button>\n          <button\n            aria-label={`open ${title} edit form created ${date}`}\n            className=\"material-symbols-outlined edit\"\n            onClick={showEdit}\n          >\n            edit\n          </button>\n          {error && (\n            <div role=\"alert\" className=\"error\">\n              {error}\n            </div>\n          )}\n        </div>\n        {showEditForm && (\n        <React.Suspense>\n          <EditWorkout\n            key={id + \"edit\"}\n            id={id}\n            title={title}\n            reps={reps}\n            load={load}\n            createdAt={createdAt}\n            updatedAt={updatedAt}\n            showEdit={() => showEdit()}\n          />\n        </React.Suspense>  \n        )}\n      </>\n    );\n}","import React from \"react\";\nimport { useWorkoutContext } from \"./useWorkoutContext\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport default function useDeleteWorkout() {\n       const [error, setError] = React.useState(null);\n       const { dispatch } = useWorkoutContext();\n       const { user } = useAuthContext();\n\n    const deleteWorkout = async (id) => {\n        if (!user) {\n         setError(\"You must be logged in to do that\");\n         return\n        }\n        const response = await fetch(\n          `${process.env.REACT_APP_API}/api/workouts/${id}`,\n          {\n            method: \"DELETE\",\n            headers: {\n              Authorization: `Bearer ${user.token}`,\n            },\n          }\n        );\n\n        const json = await response.json();\n        \n        if(response.ok){\n          dispatch({ type: \"DELETE_ONE\", payload: json.workout}); \n          setError(null) \n        }\n        if(!response.ok){\n            setError(json.error);\n        }\n    }\n  return { deleteWorkout, error }\n}\n","import React from 'react'\nimport { useWorkoutContext } from \"../hooks/useWorkoutContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\nexport const useCreateWorkout = () => { \n   const { dispatch } = useWorkoutContext();\n   const { user } = useAuthContext();\n   const [error, setError] = React.useState(null);\n\n   const createWorkout = async (workout) => {\n      if (!user) {\n       setError(\"You must be logged in\");\n       return;\n     }\n     const response = await fetch(`${process.env.REACT_APP_API}/api/workouts`, {\n       method: \"POST\",\n       body: JSON.stringify(workout),\n       headers: {\n         \"Content-Type\": \"application/json\",\n         Authorization: `Bearer ${user.token}`,\n       },\n     });\n     const json = await response.json();\n\n\n     if (!response.ok) {\n       setError(\"Please fill out the empty fields\");\n       return\n     }\n\n         if (response.ok) {\n           setError(null);\n           dispatch({ type: \"CREATE_WORKOUT\", payload: json });\n         }\n    }\n\n  return { createWorkout, error }\n}\n","import React from 'react';\nimport { useCreateWorkout } from '../hooks/useCreateWorkout';\n\nexport default function WorkoutForm({hideForm, spreadPages, flipPage, total, limit, getItems}){\n  const { createWorkout, error } = useCreateWorkout();\n  const [workout, setWorkout] = React.useState({\n    title: \"\",\n    load: \"\",\n    reps: \"\",\n  });\n  const [emptyFields, setEmptyFields] = React.useState([]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    await createWorkout(workout);\n    if (!workout.title) {\n      setEmptyFields((prev) => [\"title\", ...prev]);\n    }\n    if (!workout.reps) {\n      setEmptyFields((prev) => [\"reps\", ...prev]);\n    }\n    if (!workout.load) {\n      setEmptyFields((prev) => [\"load\", ...prev]);\n    }\n\n    if(workout.title && workout.reps && workout.load){\n     hideForm();\n     await getItems(\"\", 0);\n     spreadPages(total, limit);\n     flipPage(1)\n     setEmptyFields([]);\n     setWorkout({ title: \"\", load: \"\", reps: \"\" });\n    }   \n  };\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setWorkout((prev) => {\n      return {\n        ...prev,\n        [name]: value,\n      };\n    });\n  }\n  return (\n    <div className=\"form--container--workout--form\">\n    <form className=\"workout--form\" aria-label=\"workout form\" onSubmit={handleSubmit}>\n      <button\n        aria-label=\"close form\"\n        className=\"close material-symbols-outlined\"\n        onClick={hideForm}\n      >       \n        close\n      </button>\n      <h4>New workout</h4>\n      <label>exercise title:</label>\n      <input\n        type=\"text\"\n        name=\"title\"\n        id=\"title\"\n        placeholder=\"ex: bench press\"\n        aria-label=\"workout title\"\n        onChange={handleChange}\n        value={workout.title}\n        className={emptyFields.includes(\"title\") ? \"error\" : \"\"}\n      />\n      <label>number of reps:</label>\n      <input\n        type=\"number\"\n        name=\"reps\"\n        id=\"reps\"\n        aria-label=\"number of reps\"\n        onChange={handleChange}\n        value={workout.reps}\n        className={emptyFields.includes(\"reps\") ? \"error\" : \"\"}\n      />\n      <label>load (kg):</label>\n      <input\n        type=\"number\"\n        name=\"load\"\n        id=\"load\"\n        aria-label=\"load in kg\"\n        onChange={handleChange}\n        value={workout.load}\n        className={emptyFields.includes(\"load\") ? \"error\" : \"\"}\n      />\n        <button className=\"workout--form--btn\" aria-label=\"submit workout button\">Add workout</button>\n      {error && (\n        <div role=\"alert\" className=\"error\">\n          {error}\n        </div>\n      )}\n    </form>\n    </div>\n  );\n}\n","import React from 'react'\nimport uuid from \"react-uuid\"\nexport default function Pagination({page, limit, flipPage, total, pageSpread}){\n\n  const btnIsDisabled = () => (page+1) * limit >= total ;\n\n  function pageBtnStyle(page, p){\n     if (page + 1 === p){\n      if(p - 3 > 1 && pageSpread.length - p > 1) return \"num--page current dots-left dots-right\";\n      if(pageSpread.length - p > 1 && p > 2) return \"num--page current dots-right\";\n      if(p - 3 > 1) return \"num--page current dots-left\";\n      return \"num--page current\";\n     }\n    if (page + 1 !== p) {\n      if (p > 3 && p !== pageSpread.length) return \"invisible\";\n      if (p === pageSpread.length && p < pageSpread.length-1) return \"num--page dots-left\";\n      if (p === 3 && pageSpread.length > 4 && page + 1 < 3) return \"num--page dots-right\";\n      if (p <= 3 || p === pageSpread.length) return \"num--page\"; \n    }\n  }\n    return (\n      <div aria-label=\"pages\" className=\"page--btn--container\">\n        <button\n          aria-label=\"previous page\"\n          type=\"button\"\n          className=\"prev--page\"\n          disabled={page <= 0}\n          onClick={() => flipPage(-1)}\n        >\n          <span className=\"material-symbols-outlined\">chevron_left</span>\n        </button>\n        {pageSpread.map((p) => {\n           return (\n             <button\n               aria-label={`go to page ${p}`}\n               key={uuid()}\n               className={pageBtnStyle(page, p)}\n               onClick={() => flipPage(p)}\n             >\n               {p}\n             </button>\n           );  \n        })}\n        <button\n          aria-label=\"next page\"\n          type=\"button\"\n          className=\"next--page\"\n          disabled={btnIsDisabled()}\n          onClick={() => flipPage([1])}\n        >\n          <span className=\"material-symbols-outlined\">chevron_right</span>\n        </button>\n      </div>\n    );\n}\n","import React from 'react'\nimport { useWorkoutContext } from \"../hooks/useWorkoutContext\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\nexport const useSearch = () => {\n    const [isLoading, setIsLoading] = React.useState(null); \n    const { user } = useAuthContext();\n    const { dispatch } = useWorkoutContext();\n    const [limit, setLimit] = React.useState(null);\n    const [total, setTotal] = React.useState(null);\n    const [error, setError] = React.useState(null);\n    \n    const search = async (query, page) => {\n      setIsLoading(true);\n      if(!user) {\n        setIsLoading(false);\n        setError(\"Not authorized\");\n        return\n      }\n\n      const response = await fetch(\n        `${process.env.REACT_APP_API}/api/workouts/?search=${query}&p=${page}`,\n        {\n          headers: {\n            Authorization: `Bearer ${user.token}`,\n          },\n        }\n      );\n\n      const json = await response.json();\n\n      if(response.ok){\n        setError(null)\n        setIsLoading(false);\n        setLimit(json.limit);\n        setTotal(json.allUserWorkoutsByQuery.length);\n        dispatch({type: \"SET_WORKOUTS\", payload: json.workoutsChunk})\n      }\n      if(!response.ok){\n        setIsLoading(false);\n        setError(json.error)\n      }\n      \n    }\n    return { search, isLoading, limit, total, error}\n}","import React from 'react'\n\nexport default function Search({handleSearch, query, isLoading, handleSearchChange}) {\n  return (\n    <form aria-label=\"search bar\" className=\"search--bar\" onSubmit={handleSearch}>\n      <input\n        aria-label=\"search input\"\n        type=\"search\"\n        placeholder=\"search workouts...\"\n        value={query}\n        onChange={handleSearchChange}\n      ></input>\n      <button aria-label=\"search button\" disabled={isLoading}>\n        <span className=\"material-symbols-outlined\">search</span>\n      </button>\n    </form>\n  );\n}\n","import React from 'react';\nimport WorkoutDetails from '../components/WorkoutDetails'\nimport WorkoutForm from '../components/WorkoutForm'\nimport { useWorkoutContext } from '../hooks/useWorkoutContext'\nimport Pagination from '../components/Pagination';\nimport { useSearch } from '../hooks/useSearch';\nimport Search from '../components/Search';\nimport { logOutIfTokenExpired } from '../utils/logOutIfTokenExpired';\n\nexport default function Home() {\n    const [addWorkoutForm, setAddWorkoutForm] = React.useState(false);\n    const { workouts } = useWorkoutContext(); \n    const { search, total, limit, isLoading, error } = useSearch();\n    const [page, setPage] = React.useState(0);\n    const [pageSpread, setPageSpread] = React.useState([]);\n    const [query, setQuery] = React.useState(\"\");\n\n    React.useEffect(() => {\n      getItems(query, page);\n    }, [query, page]);\n\n    React.useEffect(()=> {\n      spreadPages(total, limit)\n    },[total,limit])\n\n    const getItems = async (q,p) => {\n      await search(q, p);\n    };\n    \n    const spreadPages = (t, l) => {\n      const pagesNum = Math.ceil(t / l);\n      let spread = [];\n      for (let i = 1; i <= pagesNum; ++i) {\n        spread.push(i);\n      }\n      setPageSpread(spread);\n    };\n\n   const hideForm = () => {\n       setAddWorkoutForm(false)\n   }\n\n   const flipPage = (num) => {\n     setPage((prev) => {\n       if (num === -1) return prev + num;\n       if (num[0]) return prev + num[0];\n       return num - 1;\n     });\n   };\n\n   const handleSearch = async (e) => {\n     e.preventDefault();\n     await getItems(query, page);\n   };\n\n   const handleSearchChange = (e) => {\n      setQuery(e.target.value);\n      setPage(0);\n   }\n\n    return (\n      <div className=\"home--container\" onClick={logOutIfTokenExpired}>\n        <div className=\"home\">\n          <Search\n            handleSearchChange={handleSearchChange}\n            handleSearch={handleSearch}\n            query={query}\n            isLoading={isLoading}\n          />\n            {error && (\n              <div role=\"alert\" className=\"error\">\n                {error}\n              </div>\n            )}\n          <div aria-label=\"workouts\" className=\"workouts--container\">\n            {workouts &&\n              workouts.map((workout) => (\n                <WorkoutDetails\n                  key={workout._id}\n                  id={workout._id}\n                  title={workout.title}\n                  reps={workout.reps}\n                  load={workout.load}\n                  createdAt={workout.createdAt}\n                  updatedAt={workout.updatedAt}\n                  page={page}\n                  getItems={getItems}\n                  spreadPages={spreadPages}\n                  total={total}\n                  limit={limit}\n                />\n              ))}\n          </div>\n          {!addWorkoutForm && (\n            <button\n              aria-label=\"buff it up\"\n              className=\"add--workout\"\n              onClick={() => setAddWorkoutForm(true)}\n            >\n              + Buff It Up\n            </button>\n          )}\n          <Pagination\n            page={page}\n            pageSpread={pageSpread}\n            total={total}\n            limit={limit}\n            flipPage={flipPage}\n          />\n\n          {addWorkoutForm && (\n            <WorkoutForm\n              hideForm={hideForm}\n              getItems={getItems}\n              spreadPages={spreadPages}\n              flipPage={flipPage}\n              total={total}\n              limit={limit}\n            />\n          )}\n          <div className=\"space\"></div>\n          <div className=\"chart--container\">\n            <h3>Routine Balance</h3>\n            <div className=\"chart\"></div>\n            <p className=\"stats--upper-bod\">\n              <span></span> Upper body - 36%\n            </p>\n            <p className=\"stats--lower-bod\">\n              <span></span> Lower body - 64%\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n};\n"],"names":["EditWorkout","React","WorkoutDetails","id","title","reps","load","createdAt","updatedAt","page","getItems","total","limit","spreadPages","showEditForm","setShowEditForm","error","setError","dispatch","useWorkoutContext","user","useAuthContext","deleteWorkout","fetch","process","method","headers","Authorization","token","response","json","ok","type","payload","workout","useDeleteWorkout","handleDelete","showEdit","prev","date","formatDistanceToNow","Date","addSuffix","className","onClick","role","useCreateWorkout","createWorkout","body","JSON","stringify","WorkoutForm","hideForm","flipPage","setWorkout","emptyFields","setEmptyFields","handleSubmit","e","preventDefault","handleChange","target","name","value","onSubmit","placeholder","onChange","includes","Pagination","pageSpread","pageBtnStyle","p","length","disabled","map","uuid","useSearch","isLoading","setIsLoading","setLimit","setTotal","search","query","allUserWorkoutsByQuery","workoutsChunk","Search","handleSearch","handleSearchChange","Home","addWorkoutForm","setAddWorkoutForm","workouts","setPage","setPageSpread","setQuery","q","t","l","pagesNum","Math","ceil","spread","i","push","num","logOutIfTokenExpired","_id"],"sourceRoot":""}